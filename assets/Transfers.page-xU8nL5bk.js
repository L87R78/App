import{r as u,j as e,T as d,B as v,a9 as R,x as _,aa as V,ab as M,ac as I,ad as k,ae as E,q as F,af as W,E as i,X as w,F as T,y as O}from"./index-C2duiuuj.js";import{u as U,S as $,T as q,C as G}from"./hooks-R2O77Bhx.js";import{S as J,M as L,a as N,L as P}from"./LoadingModal-DL-4ojPb.js";import{F as H,a as X}from"./TextField-B6Gwadev.js";import{C as z}from"./DatePicker-DoTK8hJe.js";import{S as K}from"./Select-CWEqqVCG.js";import{T as B}from"./TextField-Bqc5W6jP.js";import"./Popper-CgBA7VTr.js";const A=({options:n,value:o=null,onChange:a,id:t,name:p,label:c="",disabled:b=!1,required:y=!1,error:x=!1,errorLabel:g="",placeholder:C="Select account",fullWidth:f=!0})=>{const[m,S]=u.useState(o),j=r=>{const l=n.find(s=>s.account===r.target.value)||null;S(l),a==null||a(l)};return e.jsxs(H,{fullWidth:f,required:y,disabled:b,error:x,variant:"outlined",children:[c&&e.jsx(d,{variant:"body2",fontWeight:300,mb:1,children:c}),e.jsx(J,{labelId:`${t}-label`,id:t,name:p,value:(m==null?void 0:m.account)||"",onChange:j,displayEmpty:!0,renderValue:r=>{const l=n.find(s=>s.account===r);return l?e.jsx(D,{option:l}):e.jsx(d,{color:"text.secondary",children:C})},children:n.map(r=>e.jsx(L,{value:r.account,children:e.jsx(D,{option:r})},r.account))}),x&&g&&e.jsx(X,{children:g})]})},D=({option:n})=>e.jsxs(v,{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(v,{children:[e.jsx(d,{fontWeight:"bold",children:n.accountType}),e.jsx(d,{variant:"body2",color:"text.secondary",children:n.account})]}),e.jsxs(v,{display:"flex",gap:.5,alignItems:"center",children:[e.jsx(d,{variant:"body2",color:"text.secondary",children:"Balance:"}),e.jsxs(d,{fontWeight:"bold",children:[n.accountBalance," ",n.accountCurrency]})]})]}),Q=R("paymentOperations",async(n,{dispatch:o,rejectWithValue:a})=>{try{return o(_(!0)),await new Promise(t=>setTimeout(t,2e3)),o(_(!1)),o(V(!0)),{success:!0,signedAt:new Date().toISOString()}}catch(t){if(o(M()),t instanceof I&&t.response)return o(k({httpStatusCode:t.response.status,httpStatus:E.REJECTED})),a({status:E.REJECTED})}}),h=[{account:"BGSTSA930000023473",accountType:"Current account",accountBalance:8126.89,accountCurrency:"EUR"},{account:"BGSTSA930000023472",accountType:"Savings account",accountBalance:126.89,accountCurrency:"EUR"}],Y=[{label:"EUR",value:"EUR"}],Z=()=>{const n=F(),o=U(),{t:a}=N(["pages/payment_operations/transfers","shared/button","shared/common"]),[t,p]=u.useState(h[0]),[c,b]=u.useState(null),[y,x]=u.useState(h[0].accountCurrency),[g,C]=u.useState(W()),[f,m]=u.useState(0),S=f?"3.58":"0.00",j=f===0||!c,r=()=>{o(Q(10))},l=s=>{s&&(p(s),x(s.accountCurrency))};return e.jsxs(i,{className:"flex h-full flex-col p-4",children:[e.jsxs(i,{className:"space-y-6 overflow-y-auto pr-2",children:[e.jsx(A,{label:a("pages/payment_operations/transfers:fromAccount"),options:h,value:t,onChange:l}),e.jsx(A,{label:a("pages/payment_operations/transfers:toAccount"),options:h.filter(s=>s.account!==t.account),value:c,onChange:b,placeholder:a("pages/payment_operations/transfers:selectAccount")}),e.jsx(w,{variant:"h6",fontWeight:"bold",mt:2,children:a("pages/payment_operations/transfers:details")}),e.jsxs(i,{className:"flex flex-col gap-5",children:[e.jsxs(i,{display:"flex",gap:2,width:400,children:[e.jsx(B,{label:a("pages/payment_operations/transfers:amount"),type:"number",value:f,onChange:s=>m(parseFloat(s.target.value)),fullWidth:!0}),e.jsx(K,{label:a("pages/payment_operations/transfers:currency"),value:y,options:Y,onChange:s=>x(s.target.value),disabled:!c||c.accountCurrency===t.accountCurrency})]}),e.jsxs(i,{display:"flex",gap:2,children:[e.jsx(B,{label:a("pages/payment_operations/transfers:reason"),fullWidth:!0}),e.jsx(z,{label:a("pages/payment_operations/transfers:valueDate"),value:g,onChange:s=>C(s)})]}),e.jsxs(w,{variant:"body2",color:"textSecondary",children:[a("pages/payment_operations/transfers:transferTax"),e.jsxs("strong",{children:[" ",S," ",y]})]}),e.jsx(A,{label:a("pages/payment_operations/transfers:feeCollectionAccount"),options:h,value:t,onChange:l})]})]}),e.jsxs(i,{className:"flex justify-between pt-5",children:[e.jsxs(T,{variant:"outlined",children:[" ",a("shared/button:cancel")]}),e.jsxs(i,{display:"flex",gap:2,children:[e.jsx(T,{variant:"outlined",disabled:j,onClick:()=>{},children:a("shared/button:print")}),e.jsx(T,{variant:"contained",disabled:j,onClick:r,children:a("shared/button:signAndContinue")})]})]}),e.jsx(P,{text:a("shared/common:documentsAreBeingSigned")}),e.jsx($,{onContinue:()=>{n(O.home)},message:a("pages/client/client_data/gdpr:docsSignedSuccessfuly"),buttonMessage:a("shared/button:continue")})]})},le=()=>{const{t:n}=N(["pages/payment_operations/common"]),[o,a]=u.useState(0),t=u.useCallback(c=>{a(c)},[]),p=[{label:n("pages/payment_operations/common:betweenOwnAccounts"),content:e.jsx(Z,{})},{label:n("pages/payment_operations/common:toBankAccount"),content:e.jsx("p",{children:"To be developed..."})}];return e.jsxs("div",{className:"flex gap-6 w-full h-full",children:[e.jsx("div",{className:"w-full",children:e.jsx(q,{tabs:p,value:o,onChange:t})}),e.jsx(G,{})]})};export{le as default};
